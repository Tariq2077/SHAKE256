`timescale 1ns / 1ps

module keccakf1600_tb;

reg        clk;
reg        rst_n;
reg        start;
wire       done;
wire [1599:0] state_out;

KeccakF1600  dut (
    .clk       (clk),
    .rst_n     (rst_n),
    .start     (start),
    .done      (done),
    .state_out (state_out)
);

// Clock
initial begin
    clk = 0;
    forever #5 clk = ~clk;
end

initial begin
    rst_n = 0;
    start = 0;
    #50;
    rst_n = 1;
    #20;

    $display("Starting Keccak-f[1600] with all-zero input");
    start = 1;
    #10; start = 0;

    wait(done);
    #10;
    $display("Permutation done. Final state_out = %h", state_out);

    #50 $stop;
end

endmodule
